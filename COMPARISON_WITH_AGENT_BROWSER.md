# Browser-CLI vs Agent-Browser åŠŸèƒ½å¯¹æ¯”åˆ†æ

> **æœ€åæ›´æ–°**: 2026-02-09
> **åŠŸèƒ½è¦†ç›–ç‡**: 73% (ä» 55% æå‡)
> **æ–°å¢å‘½ä»¤**: +17 ä¸ª

---

## ğŸ“Š æœ€æ–°è¿›å±•æ‘˜è¦ï¼ˆ2026-02ï¼‰

### âœ… å·²å®ç°çš„ 5 ä¸ªé«˜ä¼˜å…ˆçº§åŠŸèƒ½

| åŠŸèƒ½ | çŠ¶æ€ | å®ç°è¯¦æƒ… | æµ‹è¯•è¦†ç›– |
|------|------|----------|---------|
| **è¯­ä¹‰å®šä½å™¨** | âœ… å®Œæˆ | 7 ç§ç±»å‹ï¼ˆrole/text/label/placeholder/alt/title/testidï¼‰ | 72 tests |
| **ç½‘ç»œæ‹¦æˆª** | âœ… å®Œæˆ | block/redirect/trackï¼ˆMV3 declarativeNetRequestï¼‰ | Manual |
| **iframe æ”¯æŒ** | âœ… å®Œæˆ | switch/list/currentï¼ˆå®Œæ•´æ¡†æ¶ç®¡ç†ï¼‰ | Manual |
| **æ–‡ä»¶ä¸Šä¼ ** | âœ… å®Œæˆ | DataTransfer APIï¼ˆæ”¯æŒ data URLsï¼‰ | Manual |
| **ç­‰å¾…æ—¶é•¿** | âœ… å®Œæˆ | `wait --duration <ms>` | Manual |

### ğŸ“ˆ åŠŸèƒ½è¦†ç›–ç‡æå‡

```
Before: 46 commands / 84 total = 55%
After:  63 commands / 86 total = 73%
Change: +17 commands (+18% coverage)
```

### ğŸ¯ æ ¸å¿ƒèƒ½åŠ›å¯¹æ¯”

| èƒ½åŠ›é¢†åŸŸ | Browser-CLI | Agent-Browser | çŠ¶æ€ |
|---------|-------------|---------------|------|
| **åŸºç¡€äº¤äº’** | âœ… å®Œæ•´ | âœ… å®Œæ•´ | å¹³ç­‰ |
| **è¯­ä¹‰å®šä½** | âœ… å®Œæ•´ | âœ… å®Œæ•´ | å¹³ç­‰ |
| **ç½‘ç»œæ§åˆ¶** | âœ… åŸºç¡€ | âœ… å®Œæ•´ | Agent-Browser æ›´å¼º |
| **iframe æ”¯æŒ** | âœ… å®Œæ•´ | âœ… åŸºç¡€ | Browser-CLI æ›´å¼º |
| **æµè§ˆå™¨é…ç½®** | âŒ ç¼ºå¤± | âœ… å®Œæ•´ | Agent-Browser ç‹¬æœ‰ |

### ğŸ“š æ–‡æ¡£ä¸æµ‹è¯•

- âœ… **SEMANTIC_LOCATORS.md** - è¯­ä¹‰å®šä½å™¨å®Œæ•´æŒ‡å—
- âœ… **UPLOAD_TESTING.md** - æ–‡ä»¶ä¸Šä¼ æµ‹è¯•æŒ‡å—ï¼ˆå«é™åˆ¶è¯´æ˜ï¼‰
- âœ… **TESTING.md** - æµ‹è¯•å¥—ä»¶æ–‡æ¡£ï¼ˆ99 tests passingï¼‰
- âœ… **test-semantic-locators.html** - è¯­ä¹‰å®šä½å™¨æµ‹è¯•é¡µé¢
- âœ… **test-iframe.html** - iframe æµ‹è¯•é¡µé¢

---

## 1. æ¶æ„è®¾è®¡å¯¹æ¯”

### Browser-CLI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Unix socket   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  WebSocket   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLI   â”‚ â”€â”€â”€â”€ NDJSON â”€â”€â†’â”‚ Daemon â”‚ â”€â”€â”€â”€ JSON â”€â”€â†’â”‚ Extension â”‚
â”‚(client) â”‚                â”‚(server)â”‚              â”‚(browser)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- **å®ç°æ–¹å¼**: Browser Extension + Daemon æ¶æ„
- **æµè§ˆå™¨æ”¯æŒ**: Chrome/Chromium + Firefox (MV3)
- **æŠ€æœ¯æ ˆ**: TypeScript + Node.js + WXT (Extension Framework)
- **è¿æ¥æ–¹å¼**: CLI â†” Daemon (Unix Socket/NDJSON) â†” Extension (WebSocket/JSON)
- **ä¼˜åŠ¿**:
  - æ— éœ€æµè§ˆå™¨é©±åŠ¨ï¼Œç›´æ¥ä½¿ç”¨æµè§ˆå™¨ API
  - æ›´è½»é‡çº§ï¼Œä¸ä¾èµ– Playwright/Puppeteer
  - æ”¯æŒç”¨æˆ·çœŸå®æµè§ˆå™¨ç¯å¢ƒï¼ˆå¸¦æ‰©å±•ã€ç™»å½•çŠ¶æ€ç­‰ï¼‰
- **åŠ£åŠ¿**:
  - éœ€è¦æ‰‹åŠ¨å®‰è£…æµè§ˆå™¨æ‰©å±•
  - ä¾èµ– WebSocket è¿æ¥ç¨³å®šæ€§

### Agent-Browser
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Rust CLIâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚Node.js â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ Playwrightâ”‚
â”‚(client) â”‚                â”‚ Daemon â”‚              â”‚(browser)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- **å®ç°æ–¹å¼**: Playwright/CDP (Chrome DevTools Protocol) é©±åŠ¨
- **æµè§ˆå™¨æ”¯æŒ**: Chromium, Firefox, WebKit (via Playwright)
- **æŠ€æœ¯æ ˆ**: Rust (CLI) + Node.js (Daemon) + Playwright
- **è¿æ¥æ–¹å¼**: Rust CLI â†” Node.js Daemon â†” Playwright
- **ä¼˜åŠ¿**:
  - æ— éœ€æµè§ˆå™¨æ‰©å±•ï¼Œå¼€ç®±å³ç”¨
  - Rust å®ç°æ€§èƒ½æ›´å¥½
  - æ”¯æŒ headless/headed æ¨¡å¼åˆ‡æ¢
  - å®Œæ•´çš„ Playwright ç”Ÿæ€æ”¯æŒ
- **åŠ£åŠ¿**:
  - ä¾èµ– Playwright è¿è¡Œæ—¶ï¼ˆè¾ƒé‡ï¼‰
  - æ— æ³•å¤ç”¨ç”¨æˆ·çœŸå®æµè§ˆå™¨ç¯å¢ƒ

---

## 2. æ ¸å¿ƒåŠŸèƒ½å¯¹æ¯”

### 2.1 å¯¼èˆªä¸é¡µé¢æ“ä½œ

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **å¯¼èˆªåˆ° URL** | âœ… `navigate` | âœ… `open/goto/navigate` | åŠŸèƒ½ç›¸åŒ |
| **åé€€** | âœ… `goBack` | âœ… `back` | åŠŸèƒ½ç›¸åŒ |
| **å‰è¿›** | âœ… `goForward` | âœ… `forward` | åŠŸèƒ½ç›¸åŒ |
| **åˆ·æ–°é¡µé¢** | âœ… `reload` | âœ… `reload` | åŠŸèƒ½ç›¸åŒ |
| **è·å– URL** | âœ… `getUrl` | âœ… `get url` | åŠŸèƒ½ç›¸åŒ |
| **è·å–æ ‡é¢˜** | âœ… `getTitle` | âœ… `get title` | åŠŸèƒ½ç›¸åŒ |
| **å…³é—­æµè§ˆå™¨** | âŒ (éœ€ stop daemon) | âœ… `close/quit/exit` | **Agent-Browser æ›´å¥½** |

**å·®è·åˆ†æ**: Agent-Browser æ”¯æŒç›´æ¥å…³é—­æµè§ˆå™¨ä¼šè¯

---

### 2.2 å…ƒç´ äº¤äº’

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **ç‚¹å‡»** | âœ… `click` (æ”¯æŒ left/right/middle) | âœ… `click` | åŠŸèƒ½ç›¸åŒ |
| **åŒå‡»** | âœ… `dblclick` | âœ… `dblclick` | åŠŸèƒ½ç›¸åŒ |
| **æ‚¬åœ** | âœ… `hover` | âœ… `hover` | åŠŸèƒ½ç›¸åŒ |
| **èšç„¦** | âœ… `focus` | âœ… `focus` | åŠŸèƒ½ç›¸åŒ |
| **å¡«å……è¡¨å•** | âœ… `fill` | âœ… `fill` | åŠŸèƒ½ç›¸åŒ |
| **é€å­—ç¬¦è¾“å…¥** | âœ… `type` (æ”¯æŒ delay) | âœ… `type` | åŠŸèƒ½ç›¸åŒ |
| **æŒ‰é”®** | âœ… `press` | âœ… `press/key` | åŠŸèƒ½ç›¸åŒ |
| **æ¸…é™¤è¾“å…¥** | âœ… `clear` | âŒ | **Browser-CLI ç‹¬æœ‰** |
| **å¤é€‰æ¡†å‹¾é€‰** | âœ… `check/uncheck` | âœ… `check/uncheck` | åŠŸèƒ½ç›¸åŒ |
| **ä¸‹æ‹‰é€‰æ‹©** | âœ… `select` | âœ… `select` | åŠŸèƒ½ç›¸åŒ |
| **æ–‡ä»¶ä¸Šä¼ ** | âœ… `upload` (æ”¯æŒ data URLs) | âœ… `upload <sel> <files>` | åŠŸèƒ½åŸºæœ¬ç›¸åŒ (é™åˆ¶ä¸åŒ) |
| **æ‹–æ‹½** | âŒ | âœ… `drag <src> <tgt>` | **Agent-Browser ç‹¬æœ‰** |
| **æŒ‰é”®æŒ‰ä¸‹/é‡Šæ”¾** | âŒ | âœ… `keydown/keyup` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**:
- âœ… Browser-CLI ç°æ”¯æŒæ–‡ä»¶ä¸Šä¼ ï¼ˆä½¿ç”¨ DataTransfer APIï¼Œéœ€ data URLsï¼‰
- âŒ Browser-CLI ç¼ºå°‘æ‹–æ‹½æ“ä½œã€æŒ‰é”®åˆ†æ­¥æ§åˆ¶

---

### 2.3 é¼ æ ‡æ§åˆ¶

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **é¼ æ ‡ç§»åŠ¨** | âŒ | âœ… `mouse move <x> <y>` | **Agent-Browser ç‹¬æœ‰** |
| **é¼ æ ‡æŒ‰ä¸‹** | âŒ | âœ… `mouse down [button]` | **Agent-Browser ç‹¬æœ‰** |
| **é¼ æ ‡é‡Šæ”¾** | âŒ | âœ… `mouse up [button]` | **Agent-Browser ç‹¬æœ‰** |
| **æ»šè½®æ»šåŠ¨** | âŒ | âœ… `mouse wheel <dy> [dx]` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: Browser-CLI å®Œå…¨ç¼ºå°‘åº•å±‚é¼ æ ‡æ§åˆ¶åŠŸèƒ½

---

### 2.4 å…ƒç´ é€‰æ‹©å™¨

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **CSS é€‰æ‹©å™¨** | âœ… | âœ… | åŠŸèƒ½ç›¸åŒ |
| **å…ƒç´ å¼•ç”¨ (@e1)** | âœ… (from snapshot) | âœ… (from snapshot) | åŠŸèƒ½ç›¸åŒ |
| **æ–‡æœ¬é€‰æ‹©å™¨** | âŒ | âœ… `text=Submit` | **Agent-Browser ç‹¬æœ‰** |
| **XPath** | âŒ | âœ… `xpath=//button` | **Agent-Browser ç‹¬æœ‰** |
| **ARIA è§’è‰²å®šä½** | âœ… `role:button:Submit` | âœ… `find role <role>` | åŠŸèƒ½ç›¸åŒï¼ˆè¯­æ³•ä¸åŒï¼‰|
| **æ–‡æœ¬å†…å®¹å®šä½** | âœ… `text:Sign In` | âœ… `find text <text>` | åŠŸèƒ½ç›¸åŒï¼ˆè¯­æ³•ä¸åŒï¼‰|
| **Label å®šä½** | âœ… `label:Email` | âœ… `find label <label>` | åŠŸèƒ½ç›¸åŒï¼ˆè¯­æ³•ä¸åŒï¼‰|
| **Placeholder å®šä½** | âœ… `placeholder:Search` | âœ… `find placeholder <ph>` | åŠŸèƒ½ç›¸åŒï¼ˆè¯­æ³•ä¸åŒï¼‰|
| **Alt æ–‡æœ¬å®šä½** | âœ… `alt:Logo` | âœ… `find alt <text>` | åŠŸèƒ½ç›¸åŒï¼ˆè¯­æ³•ä¸åŒï¼‰|
| **Title å®šä½** | âœ… `title:Help` | âœ… `find title <text>` | åŠŸèƒ½ç›¸åŒï¼ˆè¯­æ³•ä¸åŒï¼‰|
| **TestID å®šä½** | âœ… `testid:login-btn` | âœ… `find testid <id>` | åŠŸèƒ½ç›¸åŒï¼ˆè¯­æ³•ä¸åŒï¼‰|
| **First/Last/Nth** | âŒ | âœ… `find first/last/nth` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: âœ… Browser-CLI ç°å·²å®ç°è¯­ä¹‰å®šä½å™¨ï¼æ”¯æŒ 7 ç§å®šä½å™¨ç±»å‹ï¼ˆrole/text/label/placeholder/alt/title/testidï¼‰ï¼Œè¯­æ³•ç¨æœ‰ä¸åŒä½†åŠŸèƒ½ç›¸åŒ

---

### 2.5 æ•°æ®æŸ¥è¯¢

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **è·å–æ–‡æœ¬** | âœ… `getText` | âœ… `get text` | åŠŸèƒ½ç›¸åŒ |
| **è·å– HTML** | âœ… `getHtml` (inner/outer) | âœ… `get html` | åŠŸèƒ½ç›¸åŒ |
| **è·å– Value** | âœ… `getValue` | âœ… `get value` | åŠŸèƒ½ç›¸åŒ |
| **è·å–å±æ€§** | âœ… `getAttribute` | âœ… `get attr` | åŠŸèƒ½ç›¸åŒ |
| **å¯è§æ€§æ£€æŸ¥** | âœ… `isVisible` | âœ… `is visible` | åŠŸèƒ½ç›¸åŒ |
| **å¯ç”¨çŠ¶æ€æ£€æŸ¥** | âœ… `isEnabled` | âœ… `is enabled` | åŠŸèƒ½ç›¸åŒ |
| **å‹¾é€‰çŠ¶æ€æ£€æŸ¥** | âœ… `isChecked` | âœ… `is checked` | åŠŸèƒ½ç›¸åŒ |
| **å…ƒç´ è®¡æ•°** | âœ… `count` | âœ… `get count` | åŠŸèƒ½ç›¸åŒ |
| **è¾¹ç•Œæ¡†** | âœ… `boundingBox` | âœ… `get box` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: åŠŸèƒ½åŸºæœ¬ä¸€è‡´

---

### 2.6 ç­‰å¾…æ“ä½œ

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **ç­‰å¾…é€‰æ‹©å™¨** | âœ… `wait` (æ”¯æŒ timeout/visible) | âœ… `wait <selector>` | åŠŸèƒ½ç›¸åŒ |
| **ç­‰å¾…æ—¶é•¿** | âœ… `wait --duration <ms>` | âœ… `wait <ms>` | åŠŸèƒ½ç›¸åŒ |
| **ç­‰å¾… URL** | âœ… `waitForUrl` | âœ… `wait --url` | åŠŸèƒ½ç›¸åŒ |
| **ç­‰å¾…æ–‡æœ¬** | âŒ | âœ… `wait --text` | **Agent-Browser ç‹¬æœ‰** |
| **ç­‰å¾…åŠ è½½çŠ¶æ€** | âŒ | âœ… `wait --load` (load/domcontentloaded/networkidle) | **Agent-Browser ç‹¬æœ‰** |
| **ç­‰å¾…æ¡ä»¶å‡½æ•°** | âŒ | âœ… `wait --fn "condition"` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: âœ… Browser-CLI ç°æ”¯æŒç­‰å¾…æ—¶é•¿ï¼›Agent-Browser ä»æœ‰æ›´å¤šç­‰å¾…é€‰é¡¹ï¼ˆç­‰å¾…æ–‡æœ¬ã€åŠ è½½çŠ¶æ€ã€æ¡ä»¶å‡½æ•°ï¼‰

---

### 2.7 æ»šåŠ¨æ“ä½œ

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **æ»šåŠ¨é¡µé¢/å…ƒç´ ** | âœ… `scroll` (up/down/left/right, amount, selector) | âœ… `scroll <dir> [px]` | åŠŸèƒ½ç›¸åŒ |
| **æ»šåŠ¨åˆ°å…ƒç´ ** | âœ… `scrollIntoView` | âœ… `scrollintoview` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: åŠŸèƒ½åŸºæœ¬ä¸€è‡´

---

### 2.8 è§†è§‰æ•è·

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **æˆªå›¾** | âœ… `screenshot` (full/element, png/jpeg) | âœ… `screenshot` (--full) | åŠŸèƒ½ç›¸åŒ |
| **PDF å¯¼å‡º** | âŒ | âœ… `pdf <path>` | **Agent-Browser ç‹¬æœ‰** |
| **å¿«ç…§ (Accessibility Tree)** | âœ… `snapshot` (interactive/compact/depth) | âœ… `snapshot` (-i/-C/-c/-d/-s) | Browser-CLI æ›´ç®€æ´ |
| **å…ƒç´ é«˜äº®** | âœ… `highlight` (color/duration) | âœ… `highlight` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: Agent-Browser æ”¯æŒ PDF å¯¼å‡º

---

### 2.9 JavaScript æ‰§è¡Œ

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **æ‰§è¡Œè¡¨è¾¾å¼** | âœ… `evaluate` | âœ… `eval` (æ”¯æŒ -b base64, --stdin) | Agent-Browser æ›´çµæ´» |

**å·®è·åˆ†æ**: Agent-Browser æ”¯æŒ base64 å’Œ stdin è¾“å…¥

---

### 2.10 æ§åˆ¶å°ä¸é”™è¯¯

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **è·å–æ§åˆ¶å°æ—¥å¿—** | âœ… `getConsole` (level/clear) | âœ… `console` (--clear) | åŠŸèƒ½ç›¸åŒ |
| **è·å–é”™è¯¯** | âœ… `getErrors` | âœ… `errors` (--clear) | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: åŠŸèƒ½åŸºæœ¬ä¸€è‡´

---

### 2.11 æ ‡ç­¾é¡µç®¡ç†

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **æ–°å»ºæ ‡ç­¾** | âœ… `tabNew` | âœ… `tab new` | åŠŸèƒ½ç›¸åŒ |
| **åˆ—å‡ºæ ‡ç­¾** | âœ… `tabList` | âœ… `tab` | åŠŸèƒ½ç›¸åŒ |
| **åˆ‡æ¢æ ‡ç­¾** | âœ… `tabSwitch` | âœ… `tab <n>` | åŠŸèƒ½ç›¸åŒ |
| **å…³é—­æ ‡ç­¾** | âœ… `tabClose` | âœ… `tab close` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: åŠŸèƒ½åŸºæœ¬ä¸€è‡´

---

### 2.12 çª—å£ç®¡ç†

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **æ–°å»ºçª—å£** | âŒ | âœ… `window new` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: Browser-CLI ç¼ºå°‘å¤šçª—å£æ”¯æŒ

---

### 2.13 iframe/Frame ç®¡ç†

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **åˆ‡æ¢åˆ° iframe** | âœ… `frame switch --selector` | âœ… `frame <sel>` | åŠŸèƒ½ç›¸åŒ |
| **è¿”å›ä¸»æ–‡æ¡£** | âœ… `frame --main` | âœ… `frame main` | åŠŸèƒ½ç›¸åŒ |
| **åˆ—å‡ºæ‰€æœ‰æ¡†æ¶** | âœ… `frame list` | âŒ | **Browser-CLI ç‹¬æœ‰** |

**å·®è·åˆ†æ**: âœ… Browser-CLI ç°å·²å®Œå…¨æ”¯æŒ iframe æ“ä½œ

---

### 2.14 Cookie ç®¡ç†

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **è·å– Cookie** | âœ… `cookiesGet` (name/url/domain) | âœ… `cookies` | Browser-CLI æ›´çµæ´» |
| **è®¾ç½® Cookie** | âœ… `cookiesSet` (å®Œæ•´å‚æ•°) | âœ… `cookies set` | Browser-CLI æ›´å®Œæ•´ |
| **æ¸…é™¤ Cookie** | âœ… `cookiesClear` (url/domain) | âœ… `cookies clear` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: Browser-CLI çš„ Cookie API æ›´ç»†ç²’åº¦

---

### 2.15 Storage ç®¡ç†

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **localStorage** | âœ… `storageGet/Set/Clear` (area: local) | âœ… `storage local` | åŠŸèƒ½ç›¸åŒ |
| **sessionStorage** | âœ… `storageGet/Set/Clear` (area: session) | âœ… `storage session` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: åŠŸèƒ½åŸºæœ¬ä¸€è‡´

---

### 2.16 å¯¹è¯æ¡†ç®¡ç†

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **æ¥å—å¯¹è¯æ¡†** | âœ… `dialogAccept` (text) | âœ… `dialog accept [text]` | åŠŸèƒ½ç›¸åŒ |
| **æ‹’ç»å¯¹è¯æ¡†** | âœ… `dialogDismiss` | âœ… `dialog dismiss` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: åŠŸèƒ½åŸºæœ¬ä¸€è‡´

---

### 2.17 ç½‘ç»œæ§åˆ¶

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **æ‹¦æˆªè¯·æ±‚** | âœ… `network route` (MV3) | âœ… `network route` | åŠŸèƒ½åŸºæœ¬ç›¸åŒ |
| **é˜»æ­¢è¯·æ±‚** | âœ… `network route --block` | âœ… `network route --abort` | åŠŸèƒ½ç›¸åŒ |
| **é‡å®šå‘è¯·æ±‚** | âœ… `network route --redirect` | âœ… `network route --body` | Browser-CLI åªèƒ½é‡å®šå‘ |
| **å–æ¶ˆæ‹¦æˆª** | âœ… `network unroute` | âœ… `network unroute` | åŠŸèƒ½ç›¸åŒ |
| **æŸ¥çœ‹è¯·æ±‚** | âœ… `network requests` | âœ… `network requests` | åŠŸèƒ½ç›¸åŒ |

**å·®è·åˆ†æ**: âœ… Browser-CLI ç°å·²æ”¯æŒç½‘ç»œæ‹¦æˆªï¼ˆä½¿ç”¨ MV3 declarativeNetRequestï¼‰ï¼Œä½†ä¸æ”¯æŒä¿®æ”¹è¯·æ±‚/å“åº”ä½“ï¼ˆMV3 é™åˆ¶ï¼‰

---

### 2.18 æµè§ˆå™¨é…ç½®

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **è®¾ç½®è§†å£** | âŒ | âœ… `set viewport <w> <h>` | **Agent-Browser ç‹¬æœ‰** |
| **æ¨¡æ‹Ÿè®¾å¤‡** | âŒ | âœ… `set device <name>` | **Agent-Browser ç‹¬æœ‰** |
| **åœ°ç†ä½ç½®** | âŒ | âœ… `set geo <lat> <lng>` | **Agent-Browser ç‹¬æœ‰** |
| **ç¦»çº¿æ¨¡å¼** | âŒ | âœ… `set offline [on/off]` | **Agent-Browser ç‹¬æœ‰** |
| **HTTP å¤´** | âŒ | âœ… `set headers <json>` | **Agent-Browser ç‹¬æœ‰** |
| **HTTP è®¤è¯** | âŒ | âœ… `set credentials <u> <p>` | **Agent-Browser ç‹¬æœ‰** |
| **åª’ä½“åå¥½** | âŒ | âœ… `set media [dark/light]` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: Browser-CLI å®Œå…¨ç¼ºå°‘æµè§ˆå™¨é…ç½®èƒ½åŠ›

---

### 2.19 ä¼šè¯ç®¡ç†

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **å¤šä¼šè¯æ”¯æŒ** | âœ… `--session <name>` | âœ… `--session <name>` | åŠŸèƒ½ç›¸åŒ |
| **æŒä¹…åŒ– Profile** | âŒ | âœ… `--profile <path>` | **Agent-Browser ç‹¬æœ‰** |
| **è®¤è¯çŠ¶æ€ä¿å­˜** | âŒ | âœ… `state save/load` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: Agent-Browser çš„ä¼šè¯ç®¡ç†æ›´å®Œæ•´

---

### 2.20 è°ƒè¯•ä¸è¿½è¸ª

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **ä¼šè¯è¿½è¸ª** | âŒ | âœ… `trace start/stop` | **Agent-Browser ç‹¬æœ‰** |
| **CDP è¿æ¥** | âŒ | âœ… `--cdp <port>` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: Browser-CLI ç¼ºå°‘ä¸“ä¸šè°ƒè¯•åŠŸèƒ½

---

### 2.21 äº‘æœåŠ¡é›†æˆ

| åŠŸèƒ½ | Browser-CLI | Agent-Browser | å¯¹æ¯”è¯´æ˜ |
|------|------------|---------------|----------|
| **Browserbase** | âŒ | âœ… `-p browserbase` | **Agent-Browser ç‹¬æœ‰** |
| **Browser Use** | âŒ | âœ… `-p browseruse` | **Agent-Browser ç‹¬æœ‰** |
| **Kernel** | âŒ | âœ… `-p kernel` | **Agent-Browser ç‹¬æœ‰** |
| **iOS Simulator** | âŒ | âœ… `-p ios` | **Agent-Browser ç‹¬æœ‰** |

**å·®è·åˆ†æ**: Agent-Browser æ”¯æŒå¤šç§äº‘æµè§ˆå™¨æœåŠ¡

---

## 3. åŠŸèƒ½è¦†ç›–ç‡æ€»ç»“

### Browser-CLI ç‹¬æœ‰åŠŸèƒ½
1. âœ… **çœŸå®æµè§ˆå™¨ç¯å¢ƒ**: ä½¿ç”¨ç”¨æˆ·çš„çœŸå®æµè§ˆå™¨ï¼Œä¿ç•™æ‰©å±•ã€ç™»å½•çŠ¶æ€
2. âœ… **clear å‘½ä»¤**: æ¸…é™¤è¾“å…¥æ¡†å†…å®¹
3. âœ… **Firefox æ”¯æŒ**: åŸç”Ÿæ”¯æŒ Firefoxï¼ˆä¸ä¾èµ– Playwrightï¼‰
4. âœ… **frame list å‘½ä»¤**: åˆ—å‡ºæ‰€æœ‰ iframe çš„è¯¦ç»†ä¿¡æ¯

### Agent-Browser ç‹¬æœ‰åŠŸèƒ½
1. âœ… **æ‹–æ‹½æ“ä½œ** (`drag`)
2. âœ… **åº•å±‚é¼ æ ‡æ§åˆ¶** (`mouse move/down/up/wheel`)
3. âœ… **æŒ‰é”®åˆ†æ­¥æ§åˆ¶** (`keydown/keyup`)
4. âœ… **XPath å’Œæ–‡æœ¬é€‰æ‹©å™¨**
5. âœ… **ç­‰å¾…æ–‡æœ¬/åŠ è½½çŠ¶æ€/æ¡ä»¶å‡½æ•°**
6. âœ… **PDF å¯¼å‡º** (`pdf`)
7. âœ… **First/Last/Nth é€‰æ‹©å™¨** (`find first/last/nth`)
8. âœ… **æµè§ˆå™¨é…ç½®** (viewport/device/geo/offline/headers/credentials/media)
9. âœ… **å¤šçª—å£ç®¡ç†** (`window new`)
10. âœ… **æŒä¹…åŒ– Profile** (`--profile`)
11. âœ… **è®¤è¯çŠ¶æ€ä¿å­˜** (`state save/load`)
12. âœ… **ä¼šè¯è¿½è¸ª** (`trace`)
13. âœ… **CDP è¿æ¥** (`--cdp`)
14. âœ… **äº‘æµè§ˆå™¨é›†æˆ** (Browserbase/Browser Use/Kernel/iOS)
15. âœ… **Headless/Headed åˆ‡æ¢** (`--headed`)
16. âœ… **ç½‘ç»œå“åº”ä½“ä¿®æ”¹** (Browser-CLI å— MV3 é™åˆ¶)

---

## 4. ä½¿ç”¨åœºæ™¯å¯¹æ¯”

### Browser-CLI æ›´é€‚åˆ:
1. âœ… **éœ€è¦çœŸå®æµè§ˆå™¨ç¯å¢ƒ** (å¦‚æµ‹è¯•æµè§ˆå™¨æ‰©å±•ã€éªŒè¯ç™»å½•çŠ¶æ€)
2. âœ… **è½»é‡çº§è‡ªåŠ¨åŒ–ä»»åŠ¡** (ä¸æƒ³å®‰è£… Playwright)
3. âœ… **å¤ç”¨ç”¨æˆ·æµè§ˆå™¨æ•°æ®** (cookies, localStorage)
4. âœ… **Firefox è‡ªåŠ¨åŒ–** (ä¸ä¾èµ– Playwright çš„åŸç”Ÿæ”¯æŒ)
5. âœ… **å¿«é€ŸåŸå‹éªŒè¯** (æ— éœ€é…ç½® Playwright ç¯å¢ƒ)

### Agent-Browser æ›´é€‚åˆ:
1. âœ… **AI Agent è‡ªåŠ¨åŒ–** (è¯­ä¹‰å®šä½å™¨æ›´é€‚åˆ AI ç†è§£)
2. âœ… **å¤æ‚äº¤äº’åœºæ™¯** (æ‹–æ‹½ã€æ–‡ä»¶ä¸Šä¼ ã€é¼ æ ‡ç²¾ç»†æ§åˆ¶)
3. âœ… **ç½‘ç»œæµ‹è¯•** (æ‹¦æˆªè¯·æ±‚ã€æ¨¡æ‹Ÿå“åº”)
4. âœ… **å¤šæµè§ˆå™¨å…¼å®¹** (Chromium/Firefox/WebKit)
5. âœ… **Headless è‡ªåŠ¨åŒ–** (æ—  GUI ç¯å¢ƒ)
6. âœ… **äº‘ç«¯æµè§ˆå™¨** (Browserbase/Browser Use ç­‰)
7. âœ… **ä¸“ä¸šè°ƒè¯•** (CDP è¿æ¥ã€trace)
8. âœ… **è·¨è®¾å¤‡æµ‹è¯•** (viewport/device æ¨¡æ‹Ÿã€iOS Simulator)

---

## 5. æ€§èƒ½ä¸èµ„æºæ¶ˆè€—

### Browser-CLI
- **å¯åŠ¨é€Ÿåº¦**: âš¡ å¿« (å¤ç”¨ç°æœ‰æµè§ˆå™¨)
- **å†…å­˜å ç”¨**: ğŸ’š ä½ (æ— é¢å¤–æµè§ˆå™¨è¿›ç¨‹)
- **ä¾èµ–å¤§å°**: ğŸ’š å° (æ—  Playwright)
- **å®‰è£…å¤æ‚åº¦**: âš ï¸ ä¸­ (éœ€æ‰‹åŠ¨å®‰è£…æ‰©å±•)

### Agent-Browser
- **å¯åŠ¨é€Ÿåº¦**: âš ï¸ æ…¢ (éœ€å¯åŠ¨ Playwright æµè§ˆå™¨)
- **å†…å­˜å ç”¨**: âš ï¸ é«˜ (ç‹¬ç«‹æµè§ˆå™¨è¿›ç¨‹)
- **ä¾èµ–å¤§å°**: âš ï¸ å¤§ (~300MB Playwright)
- **å®‰è£…å¤æ‚åº¦**: âœ… ä½ (å¼€ç®±å³ç”¨)

---

## 6. åŠŸèƒ½ç¼ºå¤±ä¼˜å…ˆçº§å»ºè®®

### é«˜ä¼˜å…ˆçº§ (Critical) â€” âœ… å·²å…¨éƒ¨å®Œæˆï¼
1. âœ… **è¯­ä¹‰å®šä½å™¨** (`role:button:Submit`) â€” AI Agent æ ¸å¿ƒèƒ½åŠ› **[å·²å®ç°]**
2. âœ… **ç½‘ç»œæ‹¦æˆª** (`network route`) â€” æµ‹è¯•å¿…å¤‡ **[å·²å®ç°]**
3. âœ… **iframe æ”¯æŒ** (`frame`) â€” å¸¸è§åœºæ™¯ **[å·²å®ç°]**
4. âœ… **æ–‡ä»¶ä¸Šä¼ ** (`upload`) â€” å¸¸è§è¡¨å•æ“ä½œ **[å·²å®ç°]**
5. âœ… **ç­‰å¾…æ—¶é•¿** (`wait --duration`) â€” ç®€å•ä½†å®ç”¨ **[å·²å®ç°]**

### ä¸­ä¼˜å…ˆçº§ (Important)
6. **æµè§ˆå™¨é…ç½®** (`set viewport/device/offline`) â€” è·¨è®¾å¤‡æµ‹è¯•
7. **æŒä¹…åŒ– Profile** (`--profile`) â€” ä¼šè¯ç®¡ç†
8. **æ‹–æ‹½æ“ä½œ** (`drag`) â€” å¤æ‚äº¤äº’
9. **PDF å¯¼å‡º** (`pdf`) â€” æ–‡æ¡£ç”Ÿæˆ
10. **å¤šçª—å£æ”¯æŒ** (`window new`) â€” å¤æ‚åœºæ™¯

### ä½ä¼˜å…ˆçº§ (Nice to Have)
11. **åº•å±‚é¼ æ ‡æ§åˆ¶** (`mouse move/down/up`)
12. **CDP è¿æ¥** (`--cdp`)
13. **ä¼šè¯è¿½è¸ª** (`trace`)
14. **äº‘æµè§ˆå™¨é›†æˆ** (Browserbase/Browser Use)

---

## 7. æ€»ä½“è¯„ä¼°

### Browser-CLI ä¼˜åŠ¿
- âœ… æ¶æ„åˆ›æ–°ï¼ˆExtension-basedï¼‰
- âœ… è½»é‡çº§éƒ¨ç½²
- âœ… çœŸå®æµè§ˆå™¨ç¯å¢ƒ
- âœ… æ”¯æŒ Firefoxï¼ˆæ—  Playwrightï¼‰

### Browser-CLI åŠ£åŠ¿
- âš ï¸ åŠŸèƒ½è¦†ç›–ç‡ä¸­ç­‰ï¼ˆçº¦ 61%ï¼‰
- âŒ ç¼ºå°‘æµè§ˆå™¨é…ç½®ï¼ˆviewport/device/offlineï¼‰
- âŒ ç¼ºå°‘åº•å±‚é¼ æ ‡æ§åˆ¶
- âŒ ç¼ºå°‘æ‹–æ‹½æ“ä½œ
- âŒ ç¼ºå°‘ XPath é€‰æ‹©å™¨
- âš ï¸ ç½‘ç»œæ‹¦æˆªå— MV3 é™åˆ¶ï¼ˆä¸èƒ½ä¿®æ”¹è¯·æ±‚/å“åº”ä½“ï¼‰

### å»ºè®®
1. âœ… **æ ¸å¿ƒåŠŸèƒ½å·²è¡¥é½**: è¯­ä¹‰å®šä½å™¨ã€iframe æ”¯æŒã€ç½‘ç»œæ‹¦æˆªã€æ–‡ä»¶ä¸Šä¼ å·²å…¨éƒ¨å®ç°
2. **ç»§ç»­å®Œå–„**:
   - æ·»åŠ æµè§ˆå™¨é…ç½®èƒ½åŠ›ï¼ˆviewport/device æ¨¡æ‹Ÿï¼‰
   - è€ƒè™‘ XPath é€‰æ‹©å™¨æ”¯æŒ
   - å¢å¼ºç½‘ç»œæ‹¦æˆªï¼ˆè™½å— MV3 é™åˆ¶ï¼‰
3. **çªå‡ºç‹¬ç‰¹ä»·å€¼**:
   - å¼ºè°ƒ"è½»é‡çº§"ã€"æ— éœ€ Playwright"ã€"çœŸå®æµè§ˆå™¨ç¯å¢ƒ"
   - åŠŸèƒ½è¦†ç›–ç‡å·²ä» 55% æå‡åˆ° 61%+
   - é€‚åˆç‰¹å®šåœºæ™¯ï¼ˆå¦‚æµè§ˆå™¨æ‰©å±•æµ‹è¯•ã€å¿«é€ŸåŸå‹ï¼‰

---

## 8. åŠŸèƒ½ç»Ÿè®¡

| åˆ†ç±» | Browser-CLI | Agent-Browser | å·®è· |
|------|-------------|---------------|------|
| **å¯¼èˆª** | 6 | 7 | -1 |
| **äº¤äº’** | 12 (+1 upload) | 16 | -4 |
| **é€‰æ‹©å™¨** | 9 (+7 semantic) | 12 | -3 |
| **æ•°æ®æŸ¥è¯¢** | 9 | 9 | 0 |
| **ç­‰å¾…** | 3 (+1 duration) | 6 | -3 |
| **è§†è§‰** | 3 | 4 | -1 |
| **æ ‡ç­¾/çª—å£** | 4 | 5 | -1 |
| **Cookie/Storage** | 6 | 6 | 0 |
| **iframe** | 3 (+3 frame) | 2 | +1 |
| **ç½‘ç»œ** | 5 (+5 network) | 5 | 0 |
| **é…ç½®** | 0 | 7 | -7 |
| **ä¼šè¯** | 1 | 3 | -2 |
| **è°ƒè¯•** | 2 | 4 | -2 |
| **æ€»è®¡** | **63** (+17) | **86** | **-23** |

**åŠŸèƒ½è¦†ç›–ç‡**: Browser-CLI çº¦ä¸º Agent-Browser çš„ **73%** (ä» 55% æå‡)

---

## ç»“è®º

Browser-CLI æ˜¯ä¸€ä¸ª**æ¶æ„åˆ›æ–°**çš„é¡¹ç›®ï¼ˆExtension-basedï¼‰ï¼Œåœ¨è½»é‡çº§éƒ¨ç½²å’ŒçœŸå®æµè§ˆå™¨ç¯å¢ƒæ–¹é¢æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ã€‚

### ğŸ‰ é‡å¤§è¿›å±•ï¼ˆ2026-02ï¼‰
ç»è¿‡æœ€æ–°å¼€å‘ï¼ŒBrowser-CLI å·²å®ç° **5 ä¸ªé«˜ä¼˜å…ˆçº§åŠŸèƒ½**ï¼š
1. âœ… **è¯­ä¹‰å®šä½å™¨** (7 ç§ç±»å‹) â€” AI Agent æ ¸å¿ƒèƒ½åŠ›
2. âœ… **ç½‘ç»œæ‹¦æˆª** (block/redirect/track) â€” æµ‹è¯•åœºæ™¯å¿…å¤‡
3. âœ… **iframe æ”¯æŒ** (å®Œæ•´çš„æ¡†æ¶ç®¡ç†) â€” å¸¸è§ Web åœºæ™¯
4. âœ… **æ–‡ä»¶ä¸Šä¼ ** (DataTransfer API) â€” è¡¨å•æ“ä½œ
5. âœ… **ç­‰å¾…æ—¶é•¿** (duration å‚æ•°) â€” å®ç”¨åŠŸèƒ½

**åŠŸèƒ½è¦†ç›–ç‡ä» 55% æå‡åˆ° 73%**ï¼ˆ+17 ä¸ªæ–°å‘½ä»¤ï¼‰

### å½“å‰å·®è·
ä¸»è¦å·®è·ç°åœ¨é›†ä¸­åœ¨ï¼š
1. **æµè§ˆå™¨é…ç½®** (viewport/device/geo/offline) â€” è·¨è®¾å¤‡æµ‹è¯•
2. **åº•å±‚æ§åˆ¶** (é¼ æ ‡ç²¾ç»†æ§åˆ¶ã€æ‹–æ‹½) â€” å¤æ‚äº¤äº’
3. **é«˜çº§é€‰æ‹©å™¨** (XPathã€first/last/nth) â€” é€‰æ‹©å™¨æ‰©å±•

**Browser-CLI å·²å…·å¤‡åœ¨ AI Agent è‡ªåŠ¨åŒ–åœºæ™¯çš„æ ¸å¿ƒç«äº‰åŠ›**ï¼Œç‰¹åˆ«æ˜¯è½»é‡çº§éƒ¨ç½²å’ŒçœŸå®æµè§ˆå™¨ç¯å¢ƒçš„ç‹¬ç‰¹ä¼˜åŠ¿ã€‚
